{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/esm/extends'));\n\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'));\n\nvar React = _interopDefault(require('react'));\n\nvar renderprops = require('react-spring/renderprops');\n\nconst El = renderprops.Globals.defaultElement;\nconst AnimatedDiv = renderprops.animated(El);\n\nconst _React$createContext = React.createContext(null),\n      Provider = _React$createContext.Provider,\n      Consumer = _React$createContext.Consumer;\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nconst START_TRANSLATE = 'translate(0px,0px)';\n\nclass ParallaxLayer extends React.PureComponent {\n  componentDidMount() {\n    const parent = this.parent;\n\n    if (parent) {\n      parent.layers = parent.layers.concat(this);\n      parent.update();\n    }\n  }\n\n  componentWillUnmount() {\n    const parent = this.parent;\n\n    if (parent) {\n      parent.layers = parent.layers.filter(layer => layer !== this);\n      parent.update();\n    }\n  }\n\n  setPosition(height, scrollTop, immediate) {\n    if (immediate === void 0) {\n      immediate = false;\n    }\n\n    const config = this.parent.props.config;\n    const targetScroll = Math.floor(this.props.offset) * height;\n    const offset = height * this.props.offset + targetScroll * this.props.speed;\n    const to = parseFloat(-(scrollTop * this.props.speed) + offset);\n    this.controller.update({\n      translate: to,\n      config,\n      immediate\n    });\n  }\n\n  setHeight(height, immediate) {\n    if (immediate === void 0) {\n      immediate = false;\n    }\n\n    const config = this.parent.props.config;\n    const to = parseFloat(height * this.props.factor);\n    this.controller.update({\n      space: to,\n      config,\n      immediate\n    });\n  }\n\n  initialize() {\n    const props = this.props;\n    const parent = this.parent;\n    const targetScroll = Math.floor(props.offset) * parent.space;\n    const offset = parent.space * props.offset + targetScroll * props.speed;\n    const to = parseFloat(-(parent.current * props.speed) + offset);\n    this.controller = new renderprops.Controller({\n      space: parent.space * props.factor,\n      translate: to\n    });\n  }\n\n  renderLayer() {\n    const _this$props = this.props,\n          style = _this$props.style,\n          children = _this$props.children,\n          offset = _this$props.offset,\n          speed = _this$props.speed,\n          factor = _this$props.factor,\n          className = _this$props.className,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\n\n    const horizontal = this.parent.props.horizontal;\n    const translate3d = this.controller.interpolations.translate.interpolate(x => horizontal ? `translate3d(${x}px,0,0)` : `translate3d(0,${x}px,0)`);\n    return React.createElement(AnimatedDiv, _extends({}, props, {\n      className: className,\n      style: _extends({\n        position: 'absolute',\n        backgroundSize: 'auto',\n        backgroundRepeat: 'no-repeat',\n        willChange: 'transform',\n        [horizontal ? 'height' : 'width']: '100%',\n        [horizontal ? 'width' : 'height']: this.controller.interpolations.space,\n        WebkitTransform: translate3d,\n        MsTransform: translate3d,\n        transform: translate3d\n      }, style)\n    }), children);\n  }\n\n  render() {\n    return React.createElement(Consumer, null, parent => {\n      if (parent && !this.parent) {\n        this.parent = parent;\n        this.initialize();\n      }\n\n      return this.renderLayer();\n    });\n  }\n\n}\n\nParallaxLayer.defaultProps = {\n  factor: 1,\n  offset: 0,\n  speed: 0\n};\n\nclass Parallax extends React.PureComponent {\n  // TODO keep until major release\n  constructor(props) {\n    super();\n\n    this.moveItems = () => {\n      this.layers.forEach(layer => layer.setPosition(this.space, this.current));\n      this.busy = false;\n    };\n\n    this.scrollerRaf = () => renderprops.Globals.requestFrame(this.moveItems);\n\n    this.onScroll = event => {\n      const horizontal = this.props.horizontal;\n\n      if (!this.busy) {\n        this.busy = true;\n        this.scrollerRaf();\n        this.current = event.target[getScrollType(horizontal)];\n      }\n    };\n\n    this.update = () => {\n      const _this$props2 = this.props,\n            scrolling = _this$props2.scrolling,\n            horizontal = _this$props2.horizontal;\n      const scrollType = getScrollType(horizontal);\n      if (!this.container) return;\n      this.space = this.container[horizontal ? 'clientWidth' : 'clientHeight'];\n      if (scrolling) this.current = this.container[scrollType];else this.container[scrollType] = this.current = this.offset * this.space;\n      if (this.content) this.content.style[horizontal ? 'width' : 'height'] = `${this.space * this.props.pages}px`;\n      this.layers.forEach(layer => {\n        layer.setHeight(this.space, true);\n        layer.setPosition(this.space, this.current, true);\n      });\n    };\n\n    this.updateRaf = () => {\n      renderprops.Globals.requestFrame(this.update); // Some browsers don't fire on maximize\n\n      setTimeout(this.update, 150);\n    };\n\n    this.scrollStop = event => this.controller.stop();\n\n    this.state = {\n      ready: false\n    };\n    this.layers = [];\n    this.space = 0;\n    this.current = 0;\n    this.offset = 0;\n    this.busy = false;\n    this.controller = new renderprops.Controller({\n      scroll: 0\n    });\n  }\n\n  scrollTo(offset) {\n    const _this$props3 = this.props,\n          horizontal = _this$props3.horizontal,\n          config = _this$props3.config;\n    const scrollType = getScrollType(horizontal);\n    this.scrollStop();\n    this.offset = offset;\n    const target = this.container;\n    this.controller.update({\n      scroll: offset * this.space,\n      config,\n      onFrame: _ref => {\n        let scroll = _ref.scroll;\n        return target[scrollType] = scroll;\n      }\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updateRaf, false);\n    this.update();\n    this.setState({\n      ready: true\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateRaf, false);\n  }\n\n  componentDidUpdate() {\n    this.update();\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          style = _this$props4.style,\n          innerStyle = _this$props4.innerStyle,\n          pages = _this$props4.pages,\n          id = _this$props4.id,\n          className = _this$props4.className,\n          scrolling = _this$props4.scrolling,\n          children = _this$props4.children,\n          horizontal = _this$props4.horizontal;\n    const overflow = scrolling ? 'scroll' : 'hidden';\n    return React.createElement(El, {\n      ref: node => this.container = node,\n      onScroll: this.onScroll,\n      onWheel: scrolling ? this.scrollStop : null,\n      onTouchStart: scrolling ? this.scrollStop : null,\n      style: _extends({\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        overflow,\n        overflowY: horizontal ? 'hidden' : overflow,\n        overflowX: horizontal ? overflow : 'hidden',\n        WebkitOverflowScrolling: 'touch',\n        WebkitTransform: START_TRANSLATE,\n        MsTransform: START_TRANSLATE,\n        transform: START_TRANSLATE_3D\n      }, style),\n      id: id,\n      className: className\n    }, this.state.ready && React.createElement(El, {\n      ref: node => this.content = node,\n      style: _extends({\n        position: 'absolute',\n        [horizontal ? 'height' : 'width']: '100%',\n        WebkitTransform: START_TRANSLATE,\n        MsTransform: START_TRANSLATE,\n        transform: START_TRANSLATE_3D,\n        overflow: 'hidden',\n        [horizontal ? 'width' : 'height']: this.space * pages\n      }, innerStyle)\n    }, React.createElement(Provider, {\n      value: this\n    }, children)));\n  }\n\n}\n\nParallax.Layer = ParallaxLayer;\nParallax.defaultProps = {\n  config: renderprops.config.slow,\n  scrolling: true,\n  horizontal: false\n};\nexports.Parallax = Parallax;\nexports.ParallaxLayer = ParallaxLayer;","map":{"version":3,"sources":["C:/Users/zubin/vivanwebsite/node_modules/react-spring/renderprops-addons.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","_extends","require","_objectWithoutPropertiesLoose","React","renderprops","El","Globals","defaultElement","AnimatedDiv","animated","_React$createContext","createContext","Provider","Consumer","getScrollType","horizontal","START_TRANSLATE_3D","START_TRANSLATE","ParallaxLayer","PureComponent","componentDidMount","parent","layers","concat","update","componentWillUnmount","filter","layer","setPosition","height","scrollTop","immediate","config","props","targetScroll","Math","floor","offset","speed","to","parseFloat","controller","translate","setHeight","factor","space","initialize","current","Controller","renderLayer","_this$props","style","children","className","translate3d","interpolations","interpolate","x","createElement","position","backgroundSize","backgroundRepeat","willChange","WebkitTransform","MsTransform","transform","render","defaultProps","Parallax","constructor","moveItems","forEach","busy","scrollerRaf","requestFrame","onScroll","event","target","_this$props2","scrolling","scrollType","container","content","pages","updateRaf","setTimeout","scrollStop","stop","state","ready","scroll","scrollTo","_this$props3","onFrame","_ref","window","addEventListener","setState","removeEventListener","componentDidUpdate","_this$props4","innerStyle","id","overflow","ref","node","onWheel","onTouchStart","width","overflowY","overflowX","WebkitOverflowScrolling","Layer","slow"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\r\n\r\nvar _extends = _interopDefault(require('@babel/runtime/helpers/esm/extends'));\r\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'));\r\nvar React = _interopDefault(require('react'));\r\nvar renderprops = require('react-spring/renderprops');\r\n\r\nconst El = renderprops.Globals.defaultElement;\r\nconst AnimatedDiv = renderprops.animated(El);\r\n\r\nconst _React$createContext = React.createContext(null),\r\n      Provider = _React$createContext.Provider,\r\n      Consumer = _React$createContext.Consumer;\r\n\r\nfunction getScrollType(horizontal) {\r\n  return horizontal ? 'scrollLeft' : 'scrollTop';\r\n}\r\n\r\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\r\nconst START_TRANSLATE = 'translate(0px,0px)';\r\nclass ParallaxLayer extends React.PureComponent {\r\n  componentDidMount() {\r\n    const parent = this.parent;\r\n\r\n    if (parent) {\r\n      parent.layers = parent.layers.concat(this);\r\n      parent.update();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const parent = this.parent;\r\n\r\n    if (parent) {\r\n      parent.layers = parent.layers.filter(layer => layer !== this);\r\n      parent.update();\r\n    }\r\n  }\r\n\r\n  setPosition(height, scrollTop, immediate) {\r\n    if (immediate === void 0) {\r\n      immediate = false;\r\n    }\r\n\r\n    const config = this.parent.props.config;\r\n    const targetScroll = Math.floor(this.props.offset) * height;\r\n    const offset = height * this.props.offset + targetScroll * this.props.speed;\r\n    const to = parseFloat(-(scrollTop * this.props.speed) + offset);\r\n    this.controller.update({\r\n      translate: to,\r\n      config,\r\n      immediate\r\n    });\r\n  }\r\n\r\n  setHeight(height, immediate) {\r\n    if (immediate === void 0) {\r\n      immediate = false;\r\n    }\r\n\r\n    const config = this.parent.props.config;\r\n    const to = parseFloat(height * this.props.factor);\r\n    this.controller.update({\r\n      space: to,\r\n      config,\r\n      immediate\r\n    });\r\n  }\r\n\r\n  initialize() {\r\n    const props = this.props;\r\n    const parent = this.parent;\r\n    const targetScroll = Math.floor(props.offset) * parent.space;\r\n    const offset = parent.space * props.offset + targetScroll * props.speed;\r\n    const to = parseFloat(-(parent.current * props.speed) + offset);\r\n    this.controller = new renderprops.Controller({\r\n      space: parent.space * props.factor,\r\n      translate: to\r\n    });\r\n  }\r\n\r\n  renderLayer() {\r\n    const _this$props = this.props,\r\n          style = _this$props.style,\r\n          children = _this$props.children,\r\n          offset = _this$props.offset,\r\n          speed = _this$props.speed,\r\n          factor = _this$props.factor,\r\n          className = _this$props.className,\r\n          props = _objectWithoutPropertiesLoose(_this$props, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\r\n\r\n    const horizontal = this.parent.props.horizontal;\r\n    const translate3d = this.controller.interpolations.translate.interpolate(x => horizontal ? `translate3d(${x}px,0,0)` : `translate3d(0,${x}px,0)`);\r\n    return React.createElement(AnimatedDiv, _extends({}, props, {\r\n      className: className,\r\n      style: _extends({\r\n        position: 'absolute',\r\n        backgroundSize: 'auto',\r\n        backgroundRepeat: 'no-repeat',\r\n        willChange: 'transform',\r\n        [horizontal ? 'height' : 'width']: '100%',\r\n        [horizontal ? 'width' : 'height']: this.controller.interpolations.space,\r\n        WebkitTransform: translate3d,\r\n        MsTransform: translate3d,\r\n        transform: translate3d\r\n      }, style)\r\n    }), children);\r\n  }\r\n\r\n  render() {\r\n    return React.createElement(Consumer, null, parent => {\r\n      if (parent && !this.parent) {\r\n        this.parent = parent;\r\n        this.initialize();\r\n      }\r\n\r\n      return this.renderLayer();\r\n    });\r\n  }\r\n\r\n}\r\nParallaxLayer.defaultProps = {\r\n  factor: 1,\r\n  offset: 0,\r\n  speed: 0\r\n};\r\nclass Parallax extends React.PureComponent {\r\n  // TODO keep until major release\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.moveItems = () => {\r\n      this.layers.forEach(layer => layer.setPosition(this.space, this.current));\r\n      this.busy = false;\r\n    };\r\n\r\n    this.scrollerRaf = () => renderprops.Globals.requestFrame(this.moveItems);\r\n\r\n    this.onScroll = event => {\r\n      const horizontal = this.props.horizontal;\r\n\r\n      if (!this.busy) {\r\n        this.busy = true;\r\n        this.scrollerRaf();\r\n        this.current = event.target[getScrollType(horizontal)];\r\n      }\r\n    };\r\n\r\n    this.update = () => {\r\n      const _this$props2 = this.props,\r\n            scrolling = _this$props2.scrolling,\r\n            horizontal = _this$props2.horizontal;\r\n      const scrollType = getScrollType(horizontal);\r\n      if (!this.container) return;\r\n      this.space = this.container[horizontal ? 'clientWidth' : 'clientHeight'];\r\n      if (scrolling) this.current = this.container[scrollType];else this.container[scrollType] = this.current = this.offset * this.space;\r\n      if (this.content) this.content.style[horizontal ? 'width' : 'height'] = `${this.space * this.props.pages}px`;\r\n      this.layers.forEach(layer => {\r\n        layer.setHeight(this.space, true);\r\n        layer.setPosition(this.space, this.current, true);\r\n      });\r\n    };\r\n\r\n    this.updateRaf = () => {\r\n      renderprops.Globals.requestFrame(this.update); // Some browsers don't fire on maximize\r\n\r\n      setTimeout(this.update, 150);\r\n    };\r\n\r\n    this.scrollStop = event => this.controller.stop();\r\n\r\n    this.state = {\r\n      ready: false\r\n    };\r\n    this.layers = [];\r\n    this.space = 0;\r\n    this.current = 0;\r\n    this.offset = 0;\r\n    this.busy = false;\r\n    this.controller = new renderprops.Controller({\r\n      scroll: 0\r\n    });\r\n  }\r\n\r\n  scrollTo(offset) {\r\n    const _this$props3 = this.props,\r\n          horizontal = _this$props3.horizontal,\r\n          config = _this$props3.config;\r\n    const scrollType = getScrollType(horizontal);\r\n    this.scrollStop();\r\n    this.offset = offset;\r\n    const target = this.container;\r\n    this.controller.update({\r\n      scroll: offset * this.space,\r\n      config,\r\n      onFrame: (_ref) => {\r\n        let scroll = _ref.scroll;\r\n        return target[scrollType] = scroll;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.updateRaf, false);\r\n    this.update();\r\n    this.setState({\r\n      ready: true\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateRaf, false);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.update();\r\n  }\r\n\r\n  render() {\r\n    const _this$props4 = this.props,\r\n          style = _this$props4.style,\r\n          innerStyle = _this$props4.innerStyle,\r\n          pages = _this$props4.pages,\r\n          id = _this$props4.id,\r\n          className = _this$props4.className,\r\n          scrolling = _this$props4.scrolling,\r\n          children = _this$props4.children,\r\n          horizontal = _this$props4.horizontal;\r\n    const overflow = scrolling ? 'scroll' : 'hidden';\r\n    return React.createElement(El, {\r\n      ref: node => this.container = node,\r\n      onScroll: this.onScroll,\r\n      onWheel: scrolling ? this.scrollStop : null,\r\n      onTouchStart: scrolling ? this.scrollStop : null,\r\n      style: _extends({\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow,\r\n        overflowY: horizontal ? 'hidden' : overflow,\r\n        overflowX: horizontal ? overflow : 'hidden',\r\n        WebkitOverflowScrolling: 'touch',\r\n        WebkitTransform: START_TRANSLATE,\r\n        MsTransform: START_TRANSLATE,\r\n        transform: START_TRANSLATE_3D\r\n      }, style),\r\n      id: id,\r\n      className: className\r\n    }, this.state.ready && React.createElement(El, {\r\n      ref: node => this.content = node,\r\n      style: _extends({\r\n        position: 'absolute',\r\n        [horizontal ? 'height' : 'width']: '100%',\r\n        WebkitTransform: START_TRANSLATE,\r\n        MsTransform: START_TRANSLATE,\r\n        transform: START_TRANSLATE_3D,\r\n        overflow: 'hidden',\r\n        [horizontal ? 'width' : 'height']: this.space * pages\r\n      }, innerStyle)\r\n    }, React.createElement(Provider, {\r\n      value: this\r\n    }, children)));\r\n  }\r\n\r\n}\r\nParallax.Layer = ParallaxLayer;\r\nParallax.defaultProps = {\r\n  config: renderprops.config.slow,\r\n  scrolling: true,\r\n  horizontal: false\r\n};\r\n\r\nexports.Parallax = Parallax;\r\nexports.ParallaxLayer = ParallaxLayer;\r\n"]},"metadata":{},"sourceType":"script"}